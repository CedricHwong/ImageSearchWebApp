(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-19603e13"],{4150:function(e,t,r){"use strict";var s=r("451c"),o=r.n(s);o.a},"451c":function(e,t,r){},acaa:function(e,t,r){"use strict";var s=r("c37e"),o=r.n(s);o.a},c37e:function(e,t,r){},d5c2:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"register-container"},[r("div",{staticClass:"top-box"},[r("h3",[e._v("旅投供应商业务管理系统")]),r("div",{staticClass:"register-login"},[e._v("已有账号，"),r("span",{on:{click:e.handlBack}},[e._v("立即登录")])])]),e._m(0),r("el-form",{ref:"registerForm",staticClass:"register-form",attrs:{model:e.registerForm,rules:e.registerRules,"auto-complete":"off","label-position":"left"}},[r("el-form-item",{attrs:{prop:"phone"}},[r("span",{staticClass:"svg-container svg-container_register"},[r("i",{staticClass:"el-icon-mobile"})]),r("el-input",{attrs:{name:"phone",type:"text","auto-complete":"off",placeholder:"输入手机号码"},model:{value:e.registerForm.phone,callback:function(t){e.$set(e.registerForm,"phone",t)},expression:"registerForm.phone"}})],1),r("el-form-item",{attrs:{prop:"code"}},[r("span",{staticClass:"svg-container svg-container_register"},[r("i",{staticClass:"el-icon-edit"})]),r("el-input",{attrs:{name:"code",type:"text","auto-complete":"off",placeholder:"短信验证码"},model:{value:e.registerForm.code,callback:function(t){e.$set(e.registerForm,"code",t)},expression:"registerForm.code"}}),r("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"send-code",on:{click:e.sendCode}},[e._v("发送验证码")]),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}],staticClass:"send-code"},[e._v(e._s(e.count)+"秒后重发\n      ")])],1),r("el-form-item",{attrs:{prop:"password"}},[r("span",{staticClass:"svg-container"},[r("i",{staticClass:"el-icon-lock"})]),r("el-input",{attrs:{type:e.passwordType,name:"password","auto-complete":"off",placeholder:"设置6到20位登录密码"},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}}),r("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[r("i",{staticClass:"el-icon-view"})])],1),r("el-form-item",{attrs:{prop:"passwordConfirm"}},[r("span",{staticClass:"svg-container"},[r("i",{staticClass:"el-icon-lock"})]),r("el-input",{attrs:{type:e.passwordType,name:"passwordConfirm","auto-complete":"off",placeholder:"请再次输入登录密码"},model:{value:e.registerForm.passwordConfirm,callback:function(t){e.$set(e.registerForm,"passwordConfirm",t)},expression:"registerForm.passwordConfirm"}}),r("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[r("i",{staticClass:"el-icon-view"})])],1),r("div",{staticClass:"register-agree"},[r("el-checkbox",{model:{value:e.registerForm.agree,callback:function(t){e.$set(e.registerForm,"agree",t)},expression:"registerForm.agree"}},[e._v("已阅读并同意")]),r("router-link",{staticStyle:{"text-decoration":"underline"},attrs:{to:"/agreement",target:"_blank"}},[e._v("《用户服务协议》")]),r("router-link",{attrs:{to:"#",target:"_blank"}},[e._v("《保密协议》")])],1),r("el-button",{staticClass:"register-btn",staticStyle:{width:"100%"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleRegister(t)}}},[e._v("注 册")])],1)],1)},o=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"breadcrumb"},[r("span",[e._v("1.注册账号")]),r("span",{staticClass:"fuhao",staticStyle:{color:"#A6A6A6"}},[e._v(">>")]),r("span",{staticStyle:{color:"#A6A6A6"}},[e._v("2.填写企业资料")]),r("span",{staticClass:"fuhao",staticStyle:{color:"#A6A6A6"}},[e._v(">>")]),r("span",{staticStyle:{color:"#A6A6A6"}},[e._v("3.提交入驻费用")])])}],i=r("e0a5"),a={name:"Register",data:function(){var e=this,t=function(e,t,r){/^1[3456789]\d{9}$/.test(t)?r():r(new Error("请输入正确的手机号码"))},r=function(e,t,r){""==t?r(new Error("请输入验证码")):r()},s=function(e,t,r){t.length<6?r(new Error("密码长度应大于6")):t.length>20?r(new Error("密码长度应小于20")):r()},o=function(t,r,s){e.registerForm.password!=r?s(new Error("两次密码输入不一致")):s()};return{registerForm:{phone:"",code:"",password:"",passwordConfirm:"",agree:!0},registerRules:{phone:[{required:!0,trigger:"blur",validator:t}],code:[{required:!0,trigger:"blur",validator:r}],password:[{required:!0,trigger:"blur",validator:s}],passwordConfirm:[{required:!0,trigger:"blur",validator:o}]},passwordType:"password",loading:!1,uuid:"",show:!0,count:"",timer:null}},watch:{},created:function(){},destroyed:function(){},methods:{handlBack:function(){var e=this;this.$store.dispatch("LogOut").then((function(){e.$router.push("login")}))},showPwd:function(){"password"===this.passwordType?this.passwordType="":this.passwordType="password"},sendCode:function(){var e=this;if(/^1[3456789]\d{9}$/.test(this.registerForm.phone)){if(this.show){console.log(this.registerForm.phone);var t={phone:this.registerForm.phone,tenantId:"518099",type:"1"};Object(i["c"])(t).then((function(t){console.log(t),e.$notify({title:"成功",message:"验证码已发送",type:"success"})})).catch((function(e){console.log(e)}))}var r=60;this.timer||(this.count=r,this.show=!1,this.timer=setInterval((function(){e.count>0&&e.count<=r?e.count--:(e.show=!0,clearInterval(e.timer),e.timer=null)}),1e3))}else this.$notify.error({title:"失败",message:"请输入正确的手机号码"})},handleRegister:function(){var e=this;this.registerForm.agree?(console.log(this.uuid),this.$refs.registerForm.validate((function(t){if(t){var r={userName:e.registerForm.phone,passWord:e.registerForm.password,code:e.registerForm.code};console.log(r),Object(i["b"])(r).then((function(t){e.$router.push("enterprise")})).catch((function(t){console.log(t),e.$notify.error({title:"失败",message:t.data.errmsg})}))}}))):this.$notify.error({title:"失败",message:"请阅读并同意用户服务协议"})}}},n=a,c=(r("acaa"),r("4150"),r("2877")),l=Object(c["a"])(n,s,o,!1,null,"79c0576a",null);t["default"]=l.exports},e0a5:function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return a}));var s=r("b5c6"),o=function(e){return Object(s["a"])({url:"/api/blade-user/auth/sendSms",method:"post",data:e})},i=function(e){return Object(s["a"])({url:"/api/tourism-investment/auth/register",method:"post",data:e})},a=function(e){return Object(s["a"])({url:"/api/tourism-investment/common/clist",method:"get",params:e})}}}]);